{"version":3,"sources":["App.js","index.js"],"names":["App","React","Component","constructor","props","super","this","state","url","query","results","lastResult","fetchInterval","intervalId","once","setState","loading","fetch","then","r","text","DOMParser","parseFromString","doc","timestamp","Date","value","querySelector","innerText","result","concat","catch","e","console","error","interval","window","setInterval","stopInterval","clearInterval","render","react_default","a","createElement","className","class","placeholder","onChange","target","onClick","bind","disabled","type","map","toLocaleDateString","toLocaleTimeString","rootElement","document","getElementById","ReactDOM","StrictMode","App_App"],"mappings":"8LAGe,MAAMA,UAAYC,IAAMC,UACrCC,YAAYC,GACVC,MAAMD,GACNE,KAAKC,MAAQ,CACXC,IAAK,GACLC,MAAO,GACPC,QAAS,GACTC,WAAY,GACZC,cAAe,EACfC,WAAY,GAGhBC,OACER,KAAKS,SAAS,CAAEC,QAAS,oBACzBC,MAAMX,KAAKC,MAAMC,KACdU,KAAKC,IACJb,KAAKS,SAAS,CAAEC,QAAS,oBAClBG,EAAEC,SAEVF,KAAKC,IAAK,IAAIE,WAAYC,gBAAgBH,EAAG,cAC7CD,KAAKK,IACJjB,KAAKS,SAAS,CAAEC,QAAS,yBAClB,CACLQ,UAAW,IAAIC,KACfC,MAAOH,EAAII,cAAcrB,KAAKC,MAAME,OAAOmB,aAG9CV,KAAKW,GACJvB,KAAKS,SAAS,CAAEL,QAASJ,KAAKC,MAAMG,QAAQoB,OAAOD,MAEpDE,MAAMC,GAAKC,QAAQC,MAAMF,IAE9BG,WACE7B,KAAKS,SAAS,CACZF,WAAYuB,OAAOC,YACjB,IAAM/B,KAAKQ,OACgB,IAA3BR,KAAKC,MAAMK,iBAIjB0B,eACEF,OAAOG,cAAcjC,KAAKC,MAAMM,YAChCP,KAAKS,SAAS,CAAEF,WAAY,IAE9B2B,SACE,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,4BACAF,EAAAC,EAAAC,cAAA,YACEE,MAAM,cACNC,YAAY,MACZC,SAAUf,GACR1B,KAAKS,SAAS,CACZP,IAAK,uCAAyCwB,EAAEgB,OAAOtB,UAI7De,EAAAC,EAAAC,cAAA,YACEE,MAAM,cACNC,YAAY,iBACZC,SAAUf,GAAK1B,KAAKS,SAAS,CAAEN,MAAOuB,EAAEgB,OAAOtB,UAEjDe,EAAAC,EAAAC,cAAA,UAAQE,MAAM,cAAcI,QAAS3C,KAAKQ,KAAKoC,KAAK5C,OAApD,cAGAmC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UACEM,QAAS3C,KAAK6B,SAASe,KAAK5C,MAC5B6C,WAAY7C,KAAKC,MAAMM,YAFzB,oBAMA4B,EAAAC,EAAAC,cAAA,UACEM,QAAS3C,KAAKgC,aAAaY,KAAK5C,MAChC6C,UAAW7C,KAAKC,MAAMM,YAFxB,QAMA4B,EAAAC,EAAAC,cAAA,SACES,KAAK,SACLN,YAAY,qBACZC,SAAUf,GAAK1B,KAAKS,SAAS,CAAEH,cAAeoB,EAAEgB,OAAOtB,WAG3De,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,WACGrC,KAAKC,MAAMG,QAAQ2C,IAAIlC,GACtBsB,EAAAC,EAAAC,cAAA,WACGxB,EAAEK,UAAU8B,qBAAsB,IAClCnC,EAAEK,UAAU+B,qBACbd,EAAAC,EAAAC,cAAA,WACCxB,EAAEO,MACHe,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,gBC3Fd,MAAMa,EAAcC,SAASC,eAAe,QAC5CC,IAASnB,OACPC,EAAAC,EAAAC,cAACF,EAAAC,EAAMkB,WAAP,KACEnB,EAAAC,EAAAC,cAACkB,EAAD,OAEFL","file":"static/js/main.b8f77b8c.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./styles.css\";\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      url: \"\",\n      query: \"\",\n      results: [],\n      lastResult: \"\",\n      fetchInterval: 0,\n      intervalId: 0\n    };\n  }\n  once() {\n    this.setState({ loading: \"fetching url...\" });\n    fetch(this.state.url)\n      .then(r => {\n        this.setState({ loading: \"parsing html...\" });\n        return r.text();\n      })\n      .then(r => new DOMParser().parseFromString(r, \"text/html\"))\n      .then(doc => {\n        this.setState({ loading: \"applying selector...\" });\n        return {\n          timestamp: new Date(),\n          value: doc.querySelector(this.state.query).innerText\n        };\n      })\n      .then(result =>\n        this.setState({ results: this.state.results.concat(result) })\n      )\n      .catch(e => console.error(e));\n  }\n  interval() {\n    this.setState({\n      intervalId: window.setInterval(\n        () => this.once(),\n        this.state.fetchInterval * 1000\n      )\n    });\n  }\n  stopInterval() {\n    window.clearInterval(this.state.intervalId);\n    this.setState({ intervalId: 0 });\n  }\n  render() {\n    return (\n      <div className=\"App\">\n        <h1>Scrape Log 0.1</h1>\n        <textarea\n          class=\"small-input\"\n          placeholder=\"URL\"\n          onChange={e =>\n            this.setState({\n              url: \"https://cors-anywhere.herokuapp.com/\" + e.target.value\n            })\n          }\n        />\n        <textarea\n          class=\"small-input\"\n          placeholder=\"Query Selector\"\n          onChange={e => this.setState({ query: e.target.value })}\n        />\n        <button class=\"small-input\" onClick={this.once.bind(this)}>\n          Fetch Once\n        </button>\n        <div>\n          <button\n            onClick={this.interval.bind(this)}\n            disabled={!!this.state.intervalId}\n          >\n            Fetch Repeatedly\n          </button>\n          <button\n            onClick={this.stopInterval.bind(this)}\n            disabled={!this.state.intervalId}\n          >\n            stop\n          </button>\n          <input\n            type=\"number\"\n            placeholder=\"Interval (seconds)\"\n            onChange={e => this.setState({ fetchInterval: e.target.value })}\n          />\n        </div>\n        <h2>Results</h2>\n        <div>\n          {this.state.results.map(r => (\n            <div>\n              {r.timestamp.toLocaleDateString()}{\" \"}\n              {r.timestamp.toLocaleTimeString()}\n              <br />\n              {r.value}\n              <br />\n              <br />\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}