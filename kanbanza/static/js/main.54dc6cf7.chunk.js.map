{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["theme","preset","buttons","primary","color","backgroundColor","cursor","opacity","secondary","warning","outline","EditableText","props","useState","editingText","setEditingText","value","setValue","m","width","height","maxWidth","autoFocus","onChange","e","target","onFocus","selectionStart","length","selectionEnd","onBlur","onEdit","onClick","children","Task","minWidth","p","sx","borderRadius","mb","overflow","v","editTask","flow","task","description","setFlow","justifyContent","alignItems","variant","regressTask","disabled","stepIndex","ml","window","confirm","deleteTask","progressTask","steps","Step","flexDirection","className","editStep","step","title","as","mt","editing","textAlign","fontSize","regressStep","progressStep","deleteStep","Flow","editFlow","createTask","createStep","setEditing","map","key","id","tasks","filter","slice","sort","a","b","updatedAt","FlowContainer","defaultValue","React","stickyValue","localStorage","getItem","JSON","parse","useEffect","setItem","stringify","useStickyState","uuid","createdAt","Date","now","overflowX","forEach","i","t","concat","deletedAt","undefined","newTask","tmp","el","ii","newStep","newFlow","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","App","document","getElementById"],"mappings":"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","file":"static/js/main.54dc6cf7.chunk.js","sourcesContent":["/* eslint no-unused-vars: 0 */\nimport React, { useState, useEffect, useRef } from 'react'\nimport { v4 as uuid } from 'uuid'\nimport preset from '@rebass/preset'\nimport { ThemeProvider } from 'emotion-theming'\n// import { ThemeProvider } from 'rebass/styled-components'\nimport { Box, Flex, Heading, Text, Button, Link, Image, Card } from 'rebass'\nimport { Input, Textarea } from '@rebass/forms'\nimport ReactMarkdown from \"react-markdown\";\nimport './reset.css'\nimport { without } from 'ramda'\n// OR use 'rebass/styled-components'\n\nconst theme = {\n  ...preset,\n  buttons: {\n    ...preset.buttons,\n    primary: {\n      ...preset.buttons.primary,\n      color: '#666',\n      backgroundColor: '#eee',\n      cursor: 'pointer',\n      '&:hover': {\n        backgroundColor: '#666',\n        color: '#eee'\n      },\n      '&:disabled' : {\n        opacity: 0.2\n      },\n    },\n    secondary: {\n      ...preset.buttons.secondary,\n      cursor: 'pointer',\n      '&:hover': {\n        backgroundColor: 'blue',\n      },\n    },\n    warning: {\n      color: 'black',\n      backgroundColor: 'rgb(255, 200, 200)',\n      cursor: 'pointer',\n      '&:hover': {\n        backgroundColor: 'red',\n        color: 'black',\n      },\n    },\n    outline: {\n      ...preset.buttons.outline,\n      color: '#666',\n      backgroundColor: '#eee',\n      cursor: 'pointer',\n      '&:hover': {\n        backgroundColor: '#666',\n        color: '#eee'\n      }\n    }\n  }\n}\n\nconst EditableText = props => {\n\n  const [editingText, setEditingText] = useState(false)\n  const [value, setValue] = useState('')\n\n  // const enterPressed = useKeyPress(\"Enter\")\n\n  // useEffect(() => {\n  //   if (editingText && enterPressed) {\n  //     setEditingText(false)\n  //     props.onEdit && props.onEdit(value)\n  //   }\n  // }, [enterPressed])\n\n  if (editingText) {\n    return <Textarea m={3} width='92%' height={props.height} maxWidth={props.maxWidth} autoFocus onChange={e => setValue(e.target.value)} value={value}\n    onFocus={(e) => {\n      e.target.selectionStart = e.target.value.length;\n      e.target.selectionEnd = e.target.value.length;\n    }}\n    onBlur={() => {\n      setEditingText(false)\n      props.onEdit && props.onEdit(value)\n    }} />\n  }\n\n  return <Box \n    onClick={() => {\n    setValue(props.children.props.children)\n    setEditingText(true)\n  }}>{props.children}</Box>\n}\n\nconst Task = (props) => (\n  <Box minWidth={500} maxWidth={500} m={2} p={2} backgroundColor='#fbfbfb' sx={{ borderRadius: 4 }}>\n\n    <Box m={3} mb={5} overflow='hidden'>\n      <EditableText height={300} onEdit={v => editTask(props.flow, props.task, { description: v }, props.setFlow)}>\n        <ReactMarkdown children={props.description} />\n      </EditableText>\n    </Box>\n\n    <Flex justifyContent='space-between' alignItems='flex-start'>\n      {/* <EditableText onEdit={v => editTask(props.flow, props.task, { title: v }, props.setFlow)} maxWidth={260}><Heading as='h3' m={2} fontSize={3} className={'wrapHard'} maxWidth={270}>\n        {props.title}\n      </Heading></EditableText>  */}\n        <Button variant='primary' onClick={() => regressTask(props.flow, props.task, props.setFlow)} disabled={props.stepIndex === 0}>\n          {'<'}\n        </Button>\n        <Button variant='warning' ml={2} onClick={() => {\n          if (window.confirm('Are you sure?')) {\n            deleteTask(props.flow, props.task, props.setFlow)\n          }\n        }}>{'Delete'}</Button>\n        <Button variant='primary' ml={2} onClick={() => progressTask(props.flow, props.task, props.setFlow)} disabled={props.stepIndex === props.flow.steps.length - 1}> \n          {'>'}\n        </Button>\n    </Flex>\n  </Box>\n)\n\nconst Step = (props) => (\n  <Flex flexDirection={'column'} minWidth={520} m={2} className={'wrapHard'}>\n    <EditableText onEdit={v => editStep(props.flow, props.step, { title: v }, props.setFlow)}><Heading as='h2' m={1} mt={3} mb={props.editing ? 2 : 4} textAlign='center' fontSize={5}>\n      {props.title}\n    </Heading></EditableText>\n    {props.editing && <Flex justifyContent='center'> \n        <Button variant='primary' ml={4} onClick={() => regressStep(props.flow, props.stepIndex, props.setFlow)} disabled={props.stepIndex === 0}>{'<'}</Button>\n        <Button variant='primary' ml={2} onClick={() => progressStep(props.flow, props.stepIndex, props.setFlow)} disabled={props.stepIndex === props.flow.steps.length - 1}>{'>'}</Button>\n        <Button variant='warning' ml={2} onClick={() => {\n          if (window.confirm('Are you sure?')) {\n            deleteStep(props.flow, props.step, props.setFlow)\n          }\n        }}>\n          Delete\n        </Button>\n      </Flex>}\n    <Flex alignItems='center' flexDirection='column'>\n      {props.children}\n    </Flex>\n  </Flex>\n)\n\nconst Flow = (props) => (\n  <Flex flexDirection='column' m={2}>\n    <Flex justifyContent='center'>\n      <EditableText onEdit={v => editFlow(props.flow, { title: v }, props.setFlow)}><Heading as='h1' mb={4} mt={3} fontSize={6}>\n        {props.flow.title}\n      </Heading></EditableText>\n    </Flex>\n    <Flex justifyContent='center' mb={3}>\n      <Button variant='secondary' onClick={() => props.flow.steps.length > 0 && createTask(props.flow, props.setFlow)}>\n        Create Task\n      </Button>\n      <Button variant='secondary' ml={2} onClick={() => createStep(props.flow, props.setFlow)}>\n        Create Step\n      </Button>\n      <Button variant='secondary' ml={2} onClick={() => props.setEditing(!props.editing)}>\n        Edit Flow\n      </Button>\n      <Button variant='outline' ml={2}>\n        View Metrics (to be done)\n      </Button>\n    </Flex>\n    <Flex> \n      {props.flow.steps.map((step, stepIndex) => (\n        <Step editing={props.editing} {...step} flow={props.flow} setFlow={props.setFlow} key={step.id} step={step} stepIndex={stepIndex} >\n          {props.flow.tasks\n            .filter(task => task.step === step.id)\n            .slice().sort((a, b) => b.updatedAt - a.updatedAt)\n            .map(task => (\n              <Task editing={props.editing} {...task} flow={props.flow} setFlow={props.setFlow} stepIndex={stepIndex} key={task.id} task={task} />\n            ))}\n        </Step>\n      ))}\n    </Flex>\n  </Flex>\n)\n\nconst FlowContainer = (props) => {\n\n  const [editing, setEditing] = useState(false)\n  const [flow, setFlow] = useStickyState({\n    title: 'Main Flow',\n    steps: [\n      { id: uuid(), createdAt: Date.now(), updatedAt: Date.now(), title: 'Todo' },\n      { id: uuid(), createdAt: Date.now(), updatedAt: Date.now(), title: 'Doing' },\n      { id: uuid(), createdAt: Date.now(), updatedAt: Date.now(), title: 'Done' },\n    ],\n    tasks: [],\n  })\n\n  return(\n    <ThemeProvider theme={theme}>\n      <Box variant='styles.root' overflowX='auto'>\n        <Flow editing={editing} setEditing={setEditing} flow={flow} setFlow={setFlow} />\n      </Box>\n    </ThemeProvider>\n  )\n}\n\nexport default FlowContainer\n\nconst progressTask = (flow, task, setFlow) => {\n  flow.steps.forEach((step, i) => {\n    if (step.id === task.step) {\n      setFlow({ ...flow, tasks: flow.tasks.map(t => t.id === task.id ? {...task, step: flow.steps[i + 1].id, updatedAt: Date.now() } : t) })\n    }\n  })\n}\n\nconst regressTask = (flow, task, setFlow) => {\n  flow.steps.forEach((step, i) => {\n    if (step.id === task.step) {\n      setFlow({ ...flow, tasks: flow.tasks.map(t => t.id === task.id ? {...task, step: flow.steps[i - 1].id, updatedAt: Date.now() } : t) })\n    }\n  })\n}\n\nconst createTask = (flow, setFlow) => {\n  setFlow({\n    ...flow,\n    tasks: flow.tasks.concat({\n      id: uuid(),\n      // title: 'A new task!',\n      description: `# a new task!\n      \nwith a [markdown](https://guides.github.com/features/mastering-markdown/) **powered** *description*\n\n![img](https://i.pinimg.com/474x/37/1c/d0/371cd0fe379985358692fcf940da0dac.jpg)`,\n      step: flow.steps[0].id,\n      createdAt: Date.now(),\n      updatedAt: Date.now(),\n      deletedAt: null,\n    }),\n  })\n}\n\nconst deleteTask = (flow, task, setFlow) => {\n  setFlow({\n    ...flow,\n    tasks: flow.tasks.map(t => t.id === task.id ? undefined : t).filter(v => v)\n  })\n}\n\nconst editTask = (flow, task, newTask, setFlow) => {\n  setFlow({\n    ...flow,\n    tasks: flow.tasks.map(t =>\n      t.id === task.id\n      ? {...task, ...newTask, updatedAt: Date.now() }\n      : t\n    ),\n  })\n}\n\nconst progressStep = (flow, stepIndex, setFlow) => {\n  let tmp = null\n  flow.steps.forEach((step, i) => {\n    if (i === stepIndex) {\n      tmp = flow.steps[i + 1]\n      setFlow({ ...flow, steps: flow.steps.map((el, ii) => ii === i ? tmp : el).map((el, ii) => ii === i + 1 ? step : el) })\n    }\n  })\n}\n\nconst regressStep = (flow, stepIndex, setFlow) => {\n  let tmp = null\n  flow.steps.forEach((step, i) => {\n    if (i === stepIndex) {\n      tmp = flow.steps[i - 1]\n      setFlow({ ...flow, steps: flow.steps.map((el, ii) => ii === i ? tmp : el).map((el, ii) => ii === i - 1 ? step : el) })\n    }\n  })\n}\n\nconst createStep= (flow, setFlow) => {\n  setFlow({\n    ...flow,\n    steps: flow.steps.concat({\n      id: uuid(),\n      title: 'New Step',\n      createdAt: Date.now(),\n      updatedAt: Date.now(),\n      deletedAt: null,\n    }),\n  })\n}\n\nconst deleteStep= (flow, step, setFlow) => {\n  setFlow({\n    ...flow,\n    steps: flow.steps.map(t => t.id === step.id ? undefined : t).filter(v => v),\n    tasks: flow.tasks.map(t => t.step === step.id ? undefined : t).filter(v => v)\n  })\n}\n\nconst editStep = (flow, step, newStep, setFlow) => {\n  setFlow({\n    ...flow,\n    steps: flow.steps.map(t =>\n      t.id === step.id\n      ? {...step, ...newStep, updatedAt: Date.now(), }\n      : t\n    ),\n  })\n}\n\nconst editFlow = (flow, newFlow, setFlow) => {\n  setFlow({\n    ...flow,\n    ...newFlow,\n  })\n}\n\nfunction useKeyPress(targetKey) {\n  // State for keeping track of whether key is pressed\n  const [keyPressed, setKeyPressed] = useState(false)\n  // If pressed key is our target key then set to true\n  function downHandler({ key }) {\n    if (key === targetKey) {\n      setKeyPressed(true)\n    }\n  }\n  // If released key is our target key then set to false\n  const upHandler = ({ key }) => {\n    if (key === targetKey) {\n      setKeyPressed(false)\n    }\n  }\n  // Add event listeners\n  useEffect(() => {\n    window.addEventListener(\"keydown\", downHandler)\n    window.addEventListener(\"keyup\", upHandler)\n    // Remove event listeners on cleanup\n    return () => {\n      window.removeEventListener(\"keydown\", downHandler)\n      window.removeEventListener(\"keyup\", upHandler)\n    }\n  }, []) // Empty array ensures that effect is only run on mount and unmount\n  return keyPressed\n}\n\nfunction useStickyState(defaultValue, key) {\n  const [value, setValue] = React.useState(() => {\n    const stickyValue = window.localStorage.getItem(key);\n    return stickyValue !== null\n      ? JSON.parse(stickyValue)\n      : defaultValue;\n  });\n  React.useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(value));\n  }, [key, value]);\n  return [value, setValue];\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}