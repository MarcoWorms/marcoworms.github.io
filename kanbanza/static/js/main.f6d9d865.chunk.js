(this.webpackJsonpkanbanza=this.webpackJsonpkanbanza||[]).push([[0],{199:function(t,e,n){},201:function(t,e,n){"use strict";n.r(e);var c=n(2),i=n.n(c),o=n(76),r=n.n(o),a=n(21),s=n(0),d=n(204),l=n(25),u=n.n(l),b=n(81),j=n(4),f=n(79),O=n(80),p=n.n(O),h=(n(199),n(3)),w=Object(s.a)(Object(s.a)({},u.a),{},{buttons:Object(s.a)(Object(s.a)({},u.a.buttons),{},{primary:Object(s.a)(Object(s.a)({},u.a.buttons.primary),{},{color:"#666",backgroundColor:"#eee",cursor:"pointer","&:hover":{backgroundColor:"#666",color:"#eee"},"&:disabled":{opacity:.2}}),secondary:Object(s.a)(Object(s.a)({},u.a.buttons.secondary),{},{cursor:"pointer","&:hover":{backgroundColor:"blue"}}),warning:{color:"black",backgroundColor:"rgb(255, 200, 200)",cursor:"pointer","&:hover":{backgroundColor:"red",color:"black"}},outline:Object(s.a)(Object(s.a)({},u.a.buttons.outline),{},{color:"#666",backgroundColor:"#eee",cursor:"pointer","&:hover":{backgroundColor:"#666",color:"#eee"}})})}),m=function(t){var e=Object(c.useState)(!1),n=Object(a.a)(e,2),i=n[0],o=n[1],r=Object(c.useState)(""),s=Object(a.a)(r,2),d=s[0],l=s[1];return i?Object(h.jsx)(f.a,{m:3,width:"92%",height:t.height,maxWidth:t.maxWidth,autoFocus:!0,onChange:function(t){return l(t.target.value)},value:d,onFocus:function(t){t.target.selectionStart=t.target.value.length,t.target.selectionEnd=t.target.value.length},onBlur:function(){o(!1),t.onEdit&&t.onEdit(d||"--")}}):Object(h.jsx)(j.a,{onClick:function(){l(t.children.props.children),o(!0)},children:t.children})},g=function(t){return Object(h.jsx)(j.a,{minWidth:500,maxWidth:500,m:2,p:2,backgroundColor:"#fbfbfb",sx:{borderRadius:4},children:Object(h.jsxs)(j.c,{justifyContent:"center",alignItems:"flex-start",children:[Object(h.jsx)(j.a,{ml:3,mr:3,overflow:"hidden",fontSize:"14px",minWidth:360,children:Object(h.jsx)(m,{height:300,onEdit:function(e){return A(t.flow,t.task,{description:e},t.setFlow)},children:Object(h.jsx)(p.a,{children:t.description})})}),Object(h.jsxs)(j.c,{flexDirection:"column",minWidth:90,maxWidth:90,alignItems:"center",children:[Object(h.jsxs)(j.c,{children:[Object(h.jsx)(j.b,{variant:"primary",onClick:function(){return D(t.flow,t.task,t.setFlow)},disabled:0===t.stepIndex,children:"<"}),Object(h.jsx)(j.b,{variant:"primary",ml:2,onClick:function(){return C(t.flow,t.task,t.setFlow)},disabled:t.stepIndex===t.flow.steps.length-1,children:">"})]}),t.editing&&Object(h.jsx)(j.c,{children:Object(h.jsx)(j.b,{variant:"warning",mt:2,onClick:function(){window.confirm("Are you sure?")&&y(t.flow,t.task,t.setFlow)},children:"Delete"})})]})]})})},x=function(t){return Object(h.jsxs)(j.c,{flexDirection:"column",minWidth:520,m:2,className:"wrapHard",children:[Object(h.jsx)(m,{onEdit:function(e){return z(t.flow,t.step,{title:e},t.setFlow)},children:Object(h.jsx)(j.d,{as:"h2",m:1,mt:3,mb:t.editing?2:4,textAlign:"center",fontSize:5,children:t.title})}),t.editing&&Object(h.jsxs)(j.c,{justifyContent:"center",children:[Object(h.jsx)(j.b,{variant:"primary",ml:4,onClick:function(){return S(t.flow,t.stepIndex,t.setFlow)},disabled:0===t.stepIndex,children:"<"}),Object(h.jsx)(j.b,{variant:"primary",ml:2,onClick:function(){return E(t.flow,t.stepIndex,t.setFlow)},disabled:t.stepIndex===t.flow.steps.length-1,children:">"}),Object(h.jsx)(j.b,{variant:"warning",ml:2,onClick:function(){window.confirm("Are you sure?")&&W(t.flow,t.step,t.setFlow)},children:"Delete"})]}),Object(h.jsx)(j.c,{alignItems:"center",flexDirection:"column",children:t.children})]})},k=function(t){return Object(h.jsxs)(j.c,{children:[Object(h.jsxs)(j.c,{flexDirection:"column",minWidth:300,maxWidth:300,backgroundColor:"#fbfbfb",p:2,height:"100vh",children:[Object(h.jsx)(j.c,{justifyContent:"center",children:Object(h.jsx)(m,{onEdit:function(e){return N(t.flow,{title:e},t.setFlow)},children:Object(h.jsx)(j.d,{as:"h1",mb:4,mt:3,fontSize:6,className:"wrapHard",children:t.flow.title})})}),Object(h.jsxs)(j.c,{justifyContent:"center",flexDirection:"column",children:[Object(h.jsx)(j.b,{mb:2,variant:"secondary",onClick:function(){return t.flow.steps.length>0&&F(t.flow,t.setFlow)},children:"Create Task"}),Object(h.jsx)(j.b,{mb:2,variant:"secondary",onClick:function(){return I(t.flow,t.setFlow)},children:"Create Step"}),Object(h.jsx)(j.b,{mb:2,variant:"secondary",onClick:function(){return t.setEditing(!t.editing)},children:"Edit Flow"}),Object(h.jsx)(j.b,{variant:"outline",children:"View Metrics (to be done)"})]})]}),Object(h.jsx)(j.c,{children:t.flow.steps.map((function(e,n){return Object(c.createElement)(x,Object(s.a)(Object(s.a)({editing:t.editing},e),{},{flow:t.flow,setFlow:t.setFlow,key:e.id,step:e,stepIndex:n}),t.flow.tasks.filter((function(t){return t.step===e.id})).slice().sort((function(t,e){return e.createdAt-t.createdAt})).map((function(e){return Object(c.createElement)(g,Object(s.a)(Object(s.a)({editing:t.editing},e),{},{flow:t.flow,setFlow:t.setFlow,stepIndex:n,key:e.id,task:e}))})))}))})]})},v=function(t){var e=Object(c.useState)(!1),n=Object(a.a)(e,2),o=n[0],r=n[1],s=function(t,e){var n=i.a.useState((function(){var n=window.localStorage.getItem(e);return null!==n?JSON.parse(n):t})),c=Object(a.a)(n,2),o=c[0],r=c[1];return i.a.useEffect((function(){window.localStorage.setItem(e,JSON.stringify(o))}),[e,o]),[o,r]}({title:"Main Flow",steps:[{id:Object(d.a)(),createdAt:Date.now(),updatedAt:Date.now(),title:"Todo"},{id:Object(d.a)(),createdAt:Date.now(),updatedAt:Date.now(),title:"Doing"},{id:Object(d.a)(),createdAt:Date.now(),updatedAt:Date.now(),title:"Done"}],tasks:[]}),l=Object(a.a)(s,2),u=l[0],f=l[1];return Object(h.jsx)(b.a,{theme:w,children:Object(h.jsx)(j.a,{variant:"styles.root",overflowX:"auto",children:Object(h.jsx)(k,{editing:o,setEditing:r,flow:u,setFlow:f})})})},C=function(t,e,n){t.steps.forEach((function(c,i){c.id===e.step&&n(Object(s.a)(Object(s.a)({},t),{},{tasks:t.tasks.map((function(n){return n.id===e.id?Object(s.a)(Object(s.a)({},e),{},{step:t.steps[i+1].id,updatedAt:Date.now()}):n}))}))}))},D=function(t,e,n){t.steps.forEach((function(c,i){c.id===e.step&&n(Object(s.a)(Object(s.a)({},t),{},{tasks:t.tasks.map((function(n){return n.id===e.id?Object(s.a)(Object(s.a)({},e),{},{step:t.steps[i-1].id,updatedAt:Date.now()}):n}))}))}))},F=function(t,e){e(Object(s.a)(Object(s.a)({},t),{},{tasks:t.tasks.concat({id:Object(d.a)(),description:"# a new task!\n      \nwith a [markdown](https://guides.github.com/features/mastering-markdown/) **powered** *description*\n\n![img](https://i.pinimg.com/474x/37/1c/d0/371cd0fe379985358692fcf940da0dac.jpg)",step:t.steps[0].id,createdAt:Date.now(),updatedAt:Date.now(),deletedAt:null})}))},y=function(t,e,n){n(Object(s.a)(Object(s.a)({},t),{},{tasks:t.tasks.map((function(t){return t.id===e.id?void 0:t})).filter((function(t){return t}))}))},A=function(t,e,n,c){c(Object(s.a)(Object(s.a)({},t),{},{tasks:t.tasks.map((function(t){return t.id===e.id?Object(s.a)(Object(s.a)(Object(s.a)({},e),n),{},{updatedAt:Date.now()}):t}))}))},E=function(t,e,n){var c=null;t.steps.forEach((function(i,o){o===e&&(c=t.steps[o+1],n(Object(s.a)(Object(s.a)({},t),{},{steps:t.steps.map((function(t,e){return e===o?c:t})).map((function(t,e){return e===o+1?i:t}))})))}))},S=function(t,e,n){var c=null;t.steps.forEach((function(i,o){o===e&&(c=t.steps[o-1],n(Object(s.a)(Object(s.a)({},t),{},{steps:t.steps.map((function(t,e){return e===o?c:t})).map((function(t,e){return e===o-1?i:t}))})))}))},I=function(t,e){e(Object(s.a)(Object(s.a)({},t),{},{steps:t.steps.concat({id:Object(d.a)(),title:"New Step",createdAt:Date.now(),updatedAt:Date.now(),deletedAt:null})}))},W=function(t,e,n){n(Object(s.a)(Object(s.a)({},t),{},{steps:t.steps.map((function(t){return t.id===e.id?void 0:t})).filter((function(t){return t})),tasks:t.tasks.map((function(t){return t.step===e.id?void 0:t})).filter((function(t){return t}))}))},z=function(t,e,n,c){c(Object(s.a)(Object(s.a)({},t),{},{steps:t.steps.map((function(t){return t.id===e.id?Object(s.a)(Object(s.a)(Object(s.a)({},e),n),{},{updatedAt:Date.now()}):t}))}))},N=function(t,e,n){n(Object(s.a)(Object(s.a)({},t),e))};var J=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,205)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,o=e.getLCP,r=e.getTTFB;n(t),c(t),i(t),o(t),r(t)}))};r.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(v,{})}),document.getElementById("root")),J()}},[[201,1,2]]]);
//# sourceMappingURL=main.f6d9d865.chunk.js.map